# ami-014bdc68: None
Validation failed for ami-014bdc68 in us-east-1 product: RHEL, version: 6.4, arch: i386

m1.small
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_29_swap_file succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	i386
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-54 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
c1.medium
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_29_swap_file succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	i386
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-39 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
t1.micro
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	i386
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-14 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update failed
--->
	command: head -c $((1024*1024*1024)) /dev/zero > /swap && echo SUCCESS
	expectation: 
SUCCESS

	result: passed
<---
--->
	command: mkswap /swap
	result: passed
<---
--->
	command: echo '/swap    swap     swap    defaults     0 0' >> /etc/fstab && echo SUCCESS
	expectation: 
SUCCESS

	result: passed
<---
--->
	actual: 255
	command: swapon -a
	result: failed
<---
--->
	command: yum -y update
	result: passed
<---
test testcase_61_yum_proxy failed
--->
	command: yum --disablerepo=* --enablerepo=rhui-us-east-1-client-config-server-6 --nogpgcheck update -y
	result: passed
<---
--->
	command: cat /etc/yum.repos.d/rhui-load-balancers.conf
	result: passed
	value: rhui2-cds01-stage.us-east-1.aws.ce.redhat.com
<---
--->
	command: iptables -I OUTPUT -d rhui2-cds01-stage.us-east-1.aws.ce.redhat.com -j DROP
	result: passed
<---
--->
	command: yum clean all; yum repolist
	result: passed
	value: Loaded plugins: amazon-id, rhui-lb, security
Cleaning repos: rhui-us-east-1-client-config-server-6
              : rhui-us-east-1-rhel-server-releases
              : rhui-us-east-1-rhel-server-releases-optional
Cleaning up Everything
Loaded plugins: amazon-id, rhui-lb, security
rhui-us-east-1-client-config-server-6                    | 1.3 kB     00:00     
rhui-us-east-1-client-config-server-6/primary            | 1.0 kB     00:00     
rhui-us-east-1-client-config-server-6                                       1/1
rhui-us-east-1-rhel-server-releases                      | 3.7 kB     00:00     
rhui-us-east-1-rhel-serve 32% [====-          ]  0.0 B/s | 4.6 MB     --:-- ETA rhui-us-east-1-rhel-serve 75% [===========    ]  10 MB/s |  11 MB     00:00 ETA rhui-us-east-1-rhel-server-releases/primary_db           |  14 MB     00:00     
rhui-us-east-1-rhel-server-releases-optional             | 3.5 kB     00:00     
rhui-us-east-1-rhel-server-releases-optional/primary_db  | 1.6 MB     00:00     
repo id                                      repo name                    status
rhui-us-east-1-client-config-server-6        Red Hat Update Infrastructur     1
rhui-us-east-1-rhel-server-releases          Red Hat Enterprise Linux Ser 6,481
rhui-us-east-1-rhel-server-releases-optional Red Hat Enterprise Linux Ser 3,735
repolist: 10,217
<---
--->
	command: yum clean all; https_proxy='https://rhui-client:,Ykvf+gH@10.3.94.27:3128' yum repolist
	result: passed
	value: Loaded plugins: amazon-id, rhui-lb, security
Cleaning repos: rhui-us-east-1-client-config-server-6
              : rhui-us-east-1-rhel-server-releases
              : rhui-us-east-1-rhel-server-releases-optional
Cleaning up Everything
Loaded plugins: amazon-id, rhui-lb, security
rhui-us-east-1-client-config-server-6                    | 1.3 kB     00:00     
rhui-us-east-1-client-config-server-6/primary            | 1.0 kB     00:00     
rhui-us-east-1-client-config-server-6                                       1/1
rhui-us-east-1-rhel-server-releases                      | 3.7 kB     00:00     
rhui-us-east-1-rhel-serve 33% [====-          ]  0.0 B/s | 4.7 MB     --:-- ETA rhui-us-east-1-rhel-serve 74% [===========    ] 9.7 MB/s |  11 MB     00:00 ETA rhui-us-east-1-rhel-server-releases/primary_db           |  14 MB     00:00     
rhui-us-east-1-rhel-server-releases-optional             | 3.5 kB     00:00     
rhui-us-east-1-rhel-server-releases-optional/primary_db  | 1.6 MB     00:00     
repo id                                      repo name                    status
rhui-us-east-1-client-config-server-6        Red Hat Update Infrastructur     1
rhui-us-east-1-rhel-server-releases          Red Hat Enterprise Linux Ser 6,481
rhui-us-east-1-rhel-server-releases-optional Red Hat Enterprise Linux Ser 3,735
repolist: 10,217
<---
--->
	actual: None
	command: service iptables restart
	result: failed
<---
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded

# ami-834fd8ea: None
Validation failure for ami-834fd8ea in us-east-1 product: RHEL, version: 6.4, arch: x86_64

cg1.4xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-33 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
cc2.8xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-52 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
hs1.8xlarge
create:
stage testing failed!
m3.2xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-49 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
hi1.4xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-5 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu failed
--->
	actual: cat /proc/cpuinfo | grep '^processor' | wc -l
16
[root@ip-10-3-94-5 ~]# 
	command: cat /proc/cpuinfo | grep '^processor' | wc -l
	expectation: 8
	result: failed
<---
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
cr1.8xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-61 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
m3.xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-6 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
cc1.4xlarge
create:
stage testing failed!

# ami-db4bdcb2: None
Validation failed for ami-db4bdcb2 in us-east-1 product: RHEL, version: 6.4, arch: x86_64

m2.xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-10 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
m1.xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-56 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
m1.large
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-30 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
c1.xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-20 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
t1.micro
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-37 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
m2.4xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-23 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
m2.2xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-15 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded

# ami-d94bdcb0: None
Validation failed for ami-d94bdcb0 in us-east-1 product: RHEL, version: 6.4, arch: x86_64

m2.xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux failed
--->
	command: getenforce
	expectation: 
Enforcing

	result: passed
<---
--->
	command: grep '^SELINUX=enforcing' /etc/sysconfig/selinux
	result: passed
<---
--->
	command: grep '^SELINUXTYPE=targeted' /etc/sysconfig/selinux
	result: passed
<---
--->
	actual: 
	command: setenforce Permissive && getenforce
	expectation: 
Permissive

	result: failed
<---
--->
	command: setenforce Enforcing && getenforce
	expectation: 
Enforcing

	result: passed
<---
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format failed
--->
	command: mount | grep '^/dev' | awk '{print $1}'
	result: passed
	value: /dev/xvde1
<---
--->
	command: echo '###' ;mount | grep '^/dev/xvde1' | awk '{print $3}'; echo '###'
	match: .*
###
(.*)
###
.*
	result: passed
	value: ['/']
<---
--->
	command: echo '###' ;mount | grep '^/dev/xvde1' | awk '{print $5}'; echo '###'
	match: .*
###
(.*)
###
.*
	result: passed
	value: ['ext4']
<---
--->
	command: [ `df -k /dev/xvde1 | awk '{ print $2 }' | tail -n 1` -gt 3937219 ]
	result: passed
<---
--->
	actual: None
	command: [ ext4 = ext4 ]
	result: failed
<---
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-45 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
m1.xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-41 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
m1.large
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-26 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
c1.xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-36 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
t1.micro
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-40 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
m2.4xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-7 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
m2.2xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-42 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded

# ami-994fd8f0: None
Validation failure for ami-994fd8f0 in us-east-1 product: RHEL, version: 6.4, arch: x86_64

cg1.4xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-29 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
cc2.8xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-4 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
hs1.8xlarge
create:
stage testing failed!
m3.2xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-47 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
hi1.4xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-16 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu failed
--->
	actual: cat /proc/cpuinfo | grep '^processor' | wc -l
16
[root@ip-10-3-94-16 ~]# 
	command: cat /proc/cpuinfo | grep '^processor' | wc -l
	expectation: 8
	result: failed
<---
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
cr1.8xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-11 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
m3.xlarge
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	x86_64
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-19 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
cc1.4xlarge
create:
stage testing failed!

# ami-0d4bdc64: None
Validation failed for ami-0d4bdc64 in us-east-1 product: RHEL, version: 6.4, arch: i386

m1.small
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_29_swap_file succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	i386
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-35 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
c1.medium
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_29_swap_file succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	i386
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-28 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral succeeded
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update succeeded
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded
t1.micro
stage1:
test testcase_01_ipv6 succeeded
test testcase_02_bash_history succeeded
test testcase_03_chkconfig succeeded
test testcase_04_cloud_firstboot succeeded
test testcase_05_grub succeeded
test testcase_06_inittab succeeded
test testcase_07_libc6_xen_conf succeeded
test testcase_08_memory succeeded
test testcase_09_nameserver failed
--->
	actual: 1
	command: dig clock.redhat.com | grep 66.187.233.4
	result: failed
<---
test testcase_10_networking succeeded
test testcase_11_package_set succeeded
test testcase_12_passwd_group succeeded
test testcase_13_resize2fs succeeded
test testcase_14_host_details succeeded
test testcase_15_rhel_version succeeded
test testcase_16_selinux succeeded
test testcase_17_shells succeeded
test testcase_18_sshd succeeded
test testcase_19_rhn_system_id succeeded
test testcase_20_auditd succeeded
test testcase_21_disk_size_format succeeded
test testcase_22_gpg_keys succeeded
test testcase_23_syslog succeeded
test testcase_24_yum_plugin succeeded
test testcase_26_verify_rpms failed
--->
	command: rpm -Va --nomtime --nosize --nomd5 | sort -fu | wc -l
	result: passed
	value: 6
<---
--->
	command: rpm -q --queryformat '%{RELEASE}
' redhat-release-server | cut -d. -f1,2
	result: passed
	value: 6.4
<---
--->
	actual: 1
	command: [ 6 = 5 ]
	result: failed
<---
--->
	command: [ 6.4 = 6.4 ]
	result: passed
<---
--->
	command: rpm -qa --queryformat '%{PACKAGER}
' | sort -u | grep -v 'Red Hat, Inc.'
	result: passed
	value: Lai Jiangshan <laijs@cn.fujitsu.com>
(none)
<---
test testcase_27_yum_repos failed
--->
	command: yum repolist -v all | csplit --prefix=repolist_xx - "%Repo-id\s*:%"
	result: passed
<---
--->
	actual repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhel-source-beta': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	expected repos: {'rhui-us-east-1-rhel-server-releases': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-optional-source': {'repo-status': 'disabled'}, 'rhel-source': {'repo-status': 'disabled'}, 'rhui-us-east-1-client-config-server-6': {'repo-status': 'enabled'}, 'rhui-us-east-1-rhel-server-releases-source': {'repo-status': 'disabled'}}
	result: failed
<---
test testcase_28_iptables succeeded
test testcase_30_rhn_certificates failed
--->
	command: rpm -ql rh-amazon-rhui-client | egrep '.*\.(pem|crt)'
	result: passed
	value: /etc/pki/entitlement/ca.crt
/etc/pki/entitlement/cdn.redhat.com-chain.crt
/etc/pki/entitlement/product/content-rhel6.crt
/etc/pki/entitlement/product/rhui-client-config-server-6.crt
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/ca.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 19:46:02 2017 GMT
<---
--->
	comment: (/etc/pki/entitlement/ca.crt).notAfter=2017-11-30 19:46:02; expecting: 2020-11-10 00:00:00
	result: failed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/cdn.redhat.com-chain.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Mar 13 11:24:54 2030 GMT
<---
--->
	comment: (/etc/pki/entitlement/cdn.redhat.com-chain.crt).notAfter=2030-03-13 11:24:54; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/content-rhel6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:31:28 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/content-rhel6.crt).notAfter=2020-11-30 18:31:28; expecting: 2020-11-10 00:00:00
	result: passed
<---
--->
	command: openssl x509 -in /etc/pki/entitlement/product/rhui-client-config-server-6.crt -noout -dates | grep notAfter
	result: passed
	value: notAfter=Nov 30 18:38:07 2020 GMT
<---
--->
	comment: (/etc/pki/entitlement/product/rhui-client-config-server-6.crt).notAfter=2020-11-30 18:38:07; expecting: 2020-11-10 00:00:00
	result: passed
<---
test testcase_31_subscription_management failed
--->
	command: yum --disablerepo="*" -v repolist
	expectation: Not loading "subscription-manager" plugin
	result: passed
<---
--->
	command: yum --enableplugin=subscription-manager --disablerepo="*" -v repolist
	expectation: Loading "subscription-manager" plugin
	result: passed
<---
--->
	actual: subscription-manager list
+-------------------------------------------+
    Installed Product Status
+-------------------------------------------+
Product Name:         	Red Hat Enterprise Linux Server
Product ID:           	69
Version:              	6.4
Arch:                 	i386
Status:               	Not Subscribed
Starts:               	
Ends:                 	

[root@ip-10-3-94-34 ~]# 
	command: subscription-manager list
	expectation: No installed products to list
	result: failed
<---
test testcase_32_ephemeral skipped
--->
	comment: no ephemeral devices in block map
	result: skip
<---
test testcase_33_userdata succeeded
test testcase_34_cpu succeeded
test testcase_50_yum_package_install succeeded
test testcase_55_yum_group_install failed
--->
	actual: 1
	command: yum -y groupinstall 'Development tools'
	result: failed
<---
test testcase_60_yum_update failed
--->
	command: head -c $((1024*1024*1024)) /dev/zero > /swap && echo SUCCESS
	expectation: 
SUCCESS

	result: passed
<---
--->
	command: mkswap /swap
	result: passed
<---
--->
	command: echo '/swap    swap     swap    defaults     0 0' >> /etc/fstab && echo SUCCESS
	expectation: 
SUCCESS

	result: passed
<---
--->
	actual: 255
	command: swapon -a
	result: failed
<---
--->
	command: yum -y update
	result: passed
<---
test testcase_61_yum_proxy succeeded
test testcase_99_reboot succeeded
stage2:
test testcase_08_memory succeeded
test testcase_25_uname succeeded

## total: 6 records

